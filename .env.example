#################################
# Jitsi Multitrack Recording Setup
# Environment Configuration
#################################

# ===================================
# Basic Configuration
# ===================================

# Public URL for accessing Jitsi Meet
# IMPORTANT: Do NOT include protocol (http:// or https://)
# For localhost testing: localhost:8000
# For production: your-domain.com
PUBLIC_URL=localhost:8000

# XMPP Domain (keep default for localhost)
XMPP_DOMAIN=meet.jitsi

# Timezone
TZ=UTC

# ===================================
# Port Configuration
# ===================================

# HTTP Port (Web interface)
HTTP_PORT=8000

# HTTPS Port (if using SSL)
HTTPS_PORT=8443

# JVB UDP Port (for media)
JVB_PORT=10000

# JVB TCP Port (fallback)
JVB_TCP_PORT=4443

# ===================================
# Security Configuration
# ===================================

# Authentication (0=disabled, 1=enabled)
# For public meetings with link access, keep this as 0
ENABLE_AUTH=0

# Allow guests to join
ENABLE_GUESTS=1

# Disable HTTPS for localhost testing
DISABLE_HTTPS=1

# Let's Encrypt (production only)
ENABLE_LETSENCRYPT=0
ENABLE_HTTP_REDIRECT=0

# ===================================
# Internal Component Authentication
# (Generate random passwords for these)
# ===================================

# Jicofo component secret
JICOFO_COMPONENT_SECRET=CHANGEME_JICOFO_COMPONENT_SECRET

# Jicofo authentication
JICOFO_AUTH_PASSWORD=CHANGEME_JICOFO_AUTH_PASSWORD

# JVB authentication
JVB_AUTH_PASSWORD=CHANGEME_JVB_AUTH_PASSWORD

# Jibri/Recorder authentication
JIBRI_RECORDER_PASSWORD=CHANGEME_JIBRI_RECORDER_PASSWORD

# ===================================
# Recording Configuration
# ===================================

# Enable automatic recording when meeting starts (1=enabled, 0=manual)
ENABLE_AUTO_RECORDING=1

# Enable transcriptions (requires additional setup)
ENABLE_TRANSCRIPTIONS=0

# ===================================
# Network Configuration
# ===================================

# Docker host address (auto-detected in most cases)
# Set this to your server's public IP if JVB connectivity fails
DOCKER_HOST_ADDRESS=

# STUN servers for NAT traversal
JVB_STUN_SERVERS=meet-jit-si-turnrelay.jitsi.net:443

# ===================================
# Advanced Settings
# ===================================

# Enable JVB health checks
JICOFO_ENABLE_BRIDGE_HEALTH_CHECKS=false

# JVB TCP harvester (keep enabled for better connectivity)
JVB_TCP_HARVESTER_DISABLED=false

# Authentication type (internal, jwt, ldap)
AUTH_TYPE=internal

# ===================================
# LDAP (if using LDAP authentication)
# ===================================
LDAP_URL=
LDAP_BASE=
LDAP_BINDDN=
LDAP_BINDPW=
LDAP_FILTER=
LDAP_AUTH_METHOD=
LDAP_VERSION=
LDAP_USE_TLS=
LDAP_TLS_CIPHERS=
LDAP_TLS_CHECK_PEER=
LDAP_TLS_CACERT_FILE=
LDAP_TLS_CACERT_DIR=
LDAP_START_TLS=

# ===================================
# Jigasi (SIP gateway - optional)
# ===================================
JIGASI_XMPP_USER=
JIGASI_XMPP_PASSWORD=
JIBRI_XMPP_USER=
JIBRI_XMPP_PASSWORD=

#################################
# Setup Instructions:
# 1. Copy this file to .env
# 2. Generate random passwords for all CHANGEME values
# 3. Update PUBLIC_URL if not using localhost
# 4. Update DOCKER_HOST_ADDRESS if needed
# 5. Configure ENABLE_AUTO_RECORDING as desired
#################################
