# Jitsi Videobridge Configuration for Multitrack Recording
# This file configures JVB to stream audio to the multitrack recorder

# Enable REST API for health checks and control
org.jitsi.videobridge.rest.ENABLE_REST=true
org.jitsi.videobridge.rest.COLIBRI_REST_ENABLED=true

# Enable WebSocket support (required for modern Jitsi)
org.jitsi.videobridge.ENABLE_REST_COLIBRI=true
org.jitsi.videobridge.ENABLE_COLIBRI_WEBSOCKET=true

# Multitrack Recording Configuration
# Enable the multitrack recording feature
org.jitsi.videobridge.ENABLE_MULTITRACK_RECORDER=true

# WebSocket endpoint for the multitrack recorder
# Points to the recorder service defined in docker-compose
org.jitsi.videobridge.MULTITRACK_RECORDER_ENDPOINT=ws://recorder:8989/record

# Audio configuration for recording
# Ensure audio is processed and forwarded to the recorder
org.jitsi.videobridge.ENABLE_AUDIO_PROCESSING=true

# Statistics and monitoring
org.jitsi.videobridge.STATISTICS_TRANSPORT=muc
org.jitsi.videobridge.ENABLE_STATISTICS=true

# Performance tuning for small deployments (1 meeting, max 10 participants)
org.jitsi.videobridge.INITIAL_TIMEOUT=15000
org.jitsi.videobridge.SUBSEQUENT_TIMEOUT=15000

# WebSocket domain and server ID
org.jitsi.videobridge.WS_DOMAIN=meet.jitsi
org.jitsi.videobridge.WS_SERVER_ID=jvb

# Log level (INFO for normal operation, DEBUG for troubleshooting)
.level=INFO
org.jitsi.videobridge.level=INFO
